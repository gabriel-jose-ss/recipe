{"ast":null,"code":"var _jsxFileName = \"/home/clecio/Trybe/Projetos/sd-029-b-project-recipes-app/src/components/FavoriteButton.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useMemo, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FavoriteButton(_ref) {\n  _s();\n  let {\n    recipe\n  } = _ref;\n  const [isFavorited, setIsFavorited] = useState(false);\n  const typeMelsDrink = window.location.pathname.split('/')[1];\n  const idRecipe = typeMelsDrink === 'meals' ? 'idMeal' : 'idDrink';\n  const favoriteRecipes = useMemo(() => localStorage.getItem('favoriteRecipes') ? JSON.parse(localStorage.getItem('favoriteRecipes')) : [], []);\n  useEffect(() => {\n    if (recipe) {\n      const fav = favoriteRecipes.some(favRecipe => favRecipe.id === recipe[0][idRecipe]);\n      setIsFavorited(fav);\n    }\n  }, [recipe, favoriteRecipes, idRecipe]);\n  const handleFavoriteBtn = () => {\n    const newFavRecipe = {\n      id: recipe[0][idRecipe],\n      type: typeMelsDrink === 'meals' ? 'meal' : 'drink',\n      nationality: recipe[0].strArea || '',\n      category: recipe[0].strCategory || '',\n      alcoholicOrNot: recipe[0].strAlcoholic || '',\n      name: recipe[0].strDrink || recipe[0].strMeal,\n      image: recipe[0].strDrinkThumb || recipe[0].strMealThumb\n    };\n    if (!isFavorited) {\n      localStorage.setItem('favoriteRecipes', JSON.stringify([...favoriteRecipes, newFavRecipe]));\n      setIsFavorited(true);\n    } else {\n      localStorage.setItem('favoriteRecipes', JSON.stringify(favoriteRecipes.filter(recipes => recipes.id !== newFavRecipe.id)));\n      setIsFavorited(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    type: \"button\",\n    onClick: handleFavoriteBtn,\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      \"data-testid\": \"favorite-btn\",\n      src: isFavorited ? blackHeartIcon : whiteHeartIcon,\n      alt: \"favorite-link\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(FavoriteButton, \"X75ds7PnvzIGGC06r+XPm+Cm9K0=\");\n_c = FavoriteButton;\nFavoriteButton.propTypes = {\n  recipe: PropTypes.arrayOf(PropTypes.shape({\n    idMeal: PropTypes.string,\n    idDrink: PropTypes.string,\n    strArea: PropTypes.string,\n    strCategory: PropTypes.string,\n    strAlcoholic: PropTypes.string,\n    strDrink: PropTypes.string,\n    strMeal: PropTypes.string,\n    strDrinkThumb: PropTypes.string,\n    strMealThumb: PropTypes.string\n  })).isRequired\n};\nexport default FavoriteButton;\nvar _c;\n$RefreshReg$(_c, \"FavoriteButton\");","map":{"version":3,"names":["useEffect","useMemo","useState","PropTypes","blackHeartIcon","whiteHeartIcon","FavoriteButton","recipe","isFavorited","setIsFavorited","typeMelsDrink","window","location","pathname","split","idRecipe","favoriteRecipes","localStorage","getItem","JSON","parse","fav","some","favRecipe","id","handleFavoriteBtn","newFavRecipe","type","nationality","strArea","category","strCategory","alcoholicOrNot","strAlcoholic","name","strDrink","strMeal","image","strDrinkThumb","strMealThumb","setItem","stringify","filter","recipes","propTypes","arrayOf","shape","idMeal","string","idDrink","isRequired"],"sources":["/home/clecio/Trybe/Projetos/sd-029-b-project-recipes-app/src/components/FavoriteButton.jsx"],"sourcesContent":["import { useEffect, useMemo, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\n\nfunction FavoriteButton({ recipe }) {\n  const [isFavorited, setIsFavorited] = useState(false);\n  const typeMelsDrink = window.location.pathname.split('/')[1];\n  const idRecipe = typeMelsDrink === 'meals' ? 'idMeal' : 'idDrink';\n  const favoriteRecipes = useMemo(() => (\n    localStorage.getItem('favoriteRecipes')\n      ? JSON.parse(localStorage.getItem('favoriteRecipes'))\n      : []\n  ), []);\n\n  useEffect(() => {\n    if (recipe) {\n      const fav = favoriteRecipes.some(\n        (favRecipe) => favRecipe.id === recipe[0][idRecipe],\n      );\n      setIsFavorited(fav);\n    }\n  }, [recipe, favoriteRecipes, idRecipe]);\n\n  const handleFavoriteBtn = () => {\n    const newFavRecipe = {\n      id: recipe[0][idRecipe],\n      type: typeMelsDrink === 'meals' ? 'meal' : 'drink',\n      nationality: recipe[0].strArea || '',\n      category: recipe[0].strCategory || '',\n      alcoholicOrNot: recipe[0].strAlcoholic || '',\n      name: recipe[0].strDrink || recipe[0].strMeal,\n      image: recipe[0].strDrinkThumb || recipe[0].strMealThumb,\n    };\n\n    if (!isFavorited) {\n      localStorage.setItem(\n        'favoriteRecipes',\n        JSON.stringify([...favoriteRecipes, newFavRecipe]),\n      );\n      setIsFavorited(true);\n    } else {\n      localStorage.setItem(\n        'favoriteRecipes',\n        JSON.stringify(\n          favoriteRecipes.filter((recipes) => recipes.id !== newFavRecipe.id),\n        ),\n      );\n      setIsFavorited(false);\n    }\n  };\n\n  return (\n    <button type=\"button\" onClick={ handleFavoriteBtn }>\n      <img\n        data-testid=\"favorite-btn\"\n        src={ isFavorited ? blackHeartIcon : whiteHeartIcon }\n        alt=\"favorite-link\"\n      />\n    </button>\n  );\n}\n\nFavoriteButton.propTypes = {\n  recipe: PropTypes.arrayOf(\n    PropTypes.shape({\n      idMeal: PropTypes.string,\n      idDrink: PropTypes.string,\n      strArea: PropTypes.string,\n      strCategory: PropTypes.string,\n      strAlcoholic: PropTypes.string,\n      strDrink: PropTypes.string,\n      strMeal: PropTypes.string,\n      strDrinkThumb: PropTypes.string,\n      strMealThumb: PropTypes.string,\n    }),\n  ).isRequired,\n};\n\nexport default FavoriteButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}